## Битва моделей временных рядов

Интерактивное Streamlit‑приложение для загрузки временного ряда, подбора столбцов даты/значений, запуска нескольких моделей и сравнения их качества на валидации. Поддерживает автоподбор метрики, выбор горизонта прогноза и (опционально) гиперпараметров.

### Возможности
- Загрузка CSV/XLSX, выбор столбцов даты и значения, указание сезонного периода и горизонта прогноза.
- Автоматическая рекомендация метрики + ручной выбор (MAE, MAPE, RMSE, MSE, R2).
- Модели: AutoARIMA, Prophet, ExponentialSmoothing, Theta, LightGBM, LinearRegression, N-BEATS, FFT, CatBoost (если установлен).
- Опциональный подбор гиперпараметров через Optuna.
- Визуализация: декомпозиция ряда, сравнение прогнозов на тесте, финальный прогноз лучшей модели, скачивание результатов в CSV/XLSX.

### Требования
- Python 3.10+
- См. `requirements.txt`. Некоторые пакеты опциональны (CatBoost используется, только если установлен).

### Установка
```bash
git clone <repo-url>
cd Analise3
python -m venv .venv
. .venv/bin/activate    # Windows: .venv\Scripts\activate
pip install -r requirements.txt
```

### Запуск
```bash
streamlit run app.py
```

### Использование
1. Загрузите файл (CSV/XLSX) со столбцом даты и значений.
2. Выберите столбцы даты/значения, сезонный период и горизонт прогноза.
3. При желании включите подбор гиперпараметров (дольше по времени).
4. Нажмите «Начать битву моделей» и дождитесь таблицы результатов.
5. Посмотрите графики прогнозов и скачайте финальный прогноз в CSV/XLSX.

### Примечания
- Если модель отсутствует (например, CatBoost), она автоматически пропускается.
- В случае ошибок о нехватке данных уменьшите горизонт прогноза или добавьте данные.
- При проблемах с зависимостями Prophet/CatBoost убедитесь, что установлены системные сборки C/C++ (для macOS/Linux — dev‑пакеты компилятора).

